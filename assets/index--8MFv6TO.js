var qn=Object.defineProperty;var Tn=(t,e,l)=>e in t?qn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[e]=l;var Kl=(t,e,l)=>Tn(t,typeof e!="symbol"?e+"":e,l);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function l(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=l(a);fetch(a.href,o)}})();function $(){}function Bn(t,e){for(const l in e)t[l]=e[l];return t}function kn(t){return t()}function hn(){return Object.create(null)}function Ve(t){t.forEach(kn)}function Ql(t){return typeof t=="function"}function ei(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Kn(t){return Object.keys(t).length===0}function ti(t,...e){if(t==null){for(const i of e)i(void 0);return $}const l=t.subscribe(...e);return l.unsubscribe?()=>l.unsubscribe():l}function Vn(t){let e;return ti(t,l=>e=l)(),e}function Zn(t,e,l){t.$$.on_destroy.push(ti(e,l))}function Fn(t,e,l,i){if(t){const a=Dn(t,e,l,i);return t[0](a)}}function Dn(t,e,l,i){return t[1]&&i?Bn(l.ctx.slice(),t[1](i(e))):l.ctx}function zn(t,e,l,i){if(t[2]&&i){const a=t[2](i(l));if(e.dirty===void 0)return a;if(typeof a=="object"){const o=[],u=Math.max(e.dirty.length,a.length);for(let p=0;p<u;p+=1)o[p]=e.dirty[p]|a[p];return o}return e.dirty|a}return e.dirty}function Ln(t,e,l,i,a,o){if(a){const u=Dn(e,l,i,o);t.p(u,a)}}function On(t){if(t.ctx.length>32){const e=[],l=t.ctx.length/32;for(let i=0;i<l;i++)e[i]=-1;return e}return-1}function n(t,e){t.appendChild(e)}function v(t,e,l){t.insertBefore(e,l||null)}function _(t){t.parentNode&&t.parentNode.removeChild(t)}function Gt(t,e){for(let l=0;l<t.length;l+=1)t[l]&&t[l].d(e)}function c(t){return document.createElement(t)}function B(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function h(t){return document.createTextNode(t)}function b(){return h(" ")}function E(t,e,l,i){return t.addEventListener(e,l,i),()=>t.removeEventListener(e,l,i)}function s(t,e,l){l==null?t.removeAttribute(e):t.getAttribute(e)!==l&&t.setAttribute(e,l)}function I(t){return t===""?null:+t}function Gn(t){return Array.from(t.childNodes)}function U(t,e){e=""+e,t.data!==e&&(t.data=e)}function C(t,e){t.value=e??""}function T(t,e,l,i){l==null?t.style.removeProperty(e):t.style.setProperty(e,l,"")}function we(t,e,l){for(let i=0;i<t.options.length;i+=1){const a=t.options[i];if(a.__value===e){a.selected=!0;return}}(!l||e!==void 0)&&(t.selectedIndex=-1)}function Yt(t){const e=t.querySelector(":checked");return e&&e.__value}let Jt;function Xt(t){Jt=t}function Yn(){if(!Jt)throw new Error("Function called outside component initialization");return Jt}function Xn(t){Yn().$$.on_destroy.push(t)}const Ot=[],Yl=[];let Et=[];const _n=[],Jn=Promise.resolve();let Xl=!1;function Qn(){Xl||(Xl=!0,Jn.then(En))}function Ke(t){Et.push(t)}const Vl=new Set;let zt=0;function En(){if(zt!==0)return;const t=Jt;do{try{for(;zt<Ot.length;){const e=Ot[zt];zt++,Xt(e),es(e.$$)}}catch(e){throw Ot.length=0,zt=0,e}for(Xt(null),Ot.length=0,zt=0;Yl.length;)Yl.pop()();for(let e=0;e<Et.length;e+=1){const l=Et[e];Vl.has(l)||(Vl.add(l),l())}Et.length=0}while(Ot.length);for(;_n.length;)_n.pop()();Xl=!1,Vl.clear(),Xt(t)}function es(t){if(t.fragment!==null){t.update(),Ve(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ke)}}function ts(t){const e=[],l=[];Et.forEach(i=>t.indexOf(i)===-1?e.push(i):l.push(i)),l.forEach(i=>i()),Et=e}const zl=new Set;let $t;function ls(){$t={r:0,c:[],p:$t}}function is(){$t.r||Ve($t.c),$t=$t.p}function y(t,e){t&&t.i&&(zl.delete(t),t.i(e))}function N(t,e,l,i){if(t&&t.o){if(zl.has(t))return;zl.add(t),$t.c.push(()=>{zl.delete(t),i&&(l&&t.d(1),i())}),t.o(e)}else i&&i()}function Be(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function F(t){t&&t.c()}function R(t,e,l){const{fragment:i,after_update:a}=t.$$;i&&i.m(e,l),Ke(()=>{const o=t.$$.on_mount.map(kn).filter(Ql);t.$$.on_destroy?t.$$.on_destroy.push(...o):Ve(o),t.$$.on_mount=[]}),a.forEach(Ke)}function k(t,e){const l=t.$$;l.fragment!==null&&(ts(l.after_update),Ve(l.on_destroy),l.fragment&&l.fragment.d(e),l.on_destroy=l.fragment=null,l.ctx=[])}function ns(t,e){t.$$.dirty[0]===-1&&(Ot.push(t),Qn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Un(t,e,l,i,a,o,u=null,p=[-1]){const m=Jt;Xt(t);const d=t.$$={fragment:null,ctx:[],props:o,update:$,not_equal:a,bound:hn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(m?m.$$.context:[])),callbacks:hn(),dirty:p,skip_bound:!1,root:e.target||m.$$.root};u&&u(d.root);let x=!1;if(d.ctx=l?l(t,e.props||{},(P,S,...H)=>{const w=H.length?H[0]:S;return d.ctx&&a(d.ctx[P],d.ctx[P]=w)&&(!d.skip_bound&&d.bound[P]&&d.bound[P](w),x&&ns(t,P)),S}):[],d.update(),x=!0,Ve(d.before_update),d.fragment=i?i(d.ctx):!1,e.target){if(e.hydrate){const P=Gn(e.target);d.fragment&&d.fragment.l(P),P.forEach(_)}else d.fragment&&d.fragment.c();e.intro&&y(t.$$.fragment),R(t,e.target,e.anchor),En()}Xt(m)}class Hn{constructor(){Kl(this,"$$");Kl(this,"$$set")}$destroy(){k(this,1),this.$destroy=$}$on(e,l){if(!Ql(l))return $;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(l),()=>{const a=i.indexOf(l);a!==-1&&i.splice(a,1)}}$set(e){this.$$set&&!Kn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ss="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ss);const as=25.4;function os(t,e){return Math.sqrt(t*t+e*e)}function rs(t,e){return!e||e<=0?NaN:t*1e3/e}function vn(t,e){if(!(!t||!e||t<=0||e<=0))return t*e/1e3}function cs(t,e){const l=isFinite(e)&&e>0?e:1;return Math.max(0,t)*l}function us(t,e){return!isFinite(t)||t<=0||!isFinite(e)||e<=0?NaN:.61*t/e}function ps(t,e){return!isFinite(e)||e<=0||!isFinite(t)?NaN:t/e}function gs(t,e){if(!isFinite(t)||!isFinite(e))return"optimal";const l=e/2;return t>l?"undersampled":t<l/1.5?"oversampled":"optimal"}function fs(t,e,l){return!isFinite(l)||l<=0?{width:NaN,height:NaN}:{width:t/l,height:e/l}}function ms(t){return isFinite(t)?2*t:NaN}function V(t,e=3){return isFinite(t)?parseFloat(t.toFixed(e)):t}function ds(t,e){if(!e||!isFinite(t)||t<=0)return;const l=Math.sqrt(e.widthPx*e.widthPx+e.heightPx*e.heightPx);if(l===0)return;const i=l/e.diagonalInch,a=as/i,o=t/1e3;return a/o}function hs(t,e,l){const i=Math.max(.01,l),a=t/i,o=e/i;return Math.sqrt(a*a+o*o)}function bn(t){const{sensor:e,objective:l,wavelengthUm:i,display:a}=t,o=vn(e.widthPx,e.pixelPitchUm),u=vn(e.heightPx,e.pixelPitchUm),p=o??e.widthMm??NaN,m=u??e.heightMm??NaN,d=os(p,m);let x=e.pixelPitchUm&&e.pixelPitchUm>0?e.pixelPitchUm:rs(p,e.widthPx);const P=cs(l.objectiveMagnification,l.couplerMagnification),S=us(i,l.numericalAperture),H=ps(x,P),w=ms(H),j=Math.max(S,w),ne=gs(H,S),Z=fs(p,m,P),q=P*(S/2),G=Math.round(p*1e3/q),z=Math.round(m*1e3/q),Y=ds(H,a),te=hs(p,m,l.couplerMagnification),L=l.fieldNumberMm>0?te/l.fieldNumberMm*100:NaN;let ie="ok";return isFinite(L)&&(L>90?ie="too_small":L<50?ie="too_large":ie="ok"),{sensorWidthMm:V(p,3),sensorHeightMm:V(m,3),sensorDiagonalMm:V(d,3),pixelSizeUm:V(x,3),totalMagnification:V(P,2),rayleighResolutionUm:V(S,3),objectPixelSizeUm:V(H,3),sensorLimitedResolutionUm:V(w,3),limitingResolutionUm:V(j,3),samplingStatus:ne,objectFovWidthMm:V(Z.width,3),objectFovHeightMm:V(Z.height,3),imagePlaneFnMm:V(l.fieldNumberMm,3),projectionDiagonalMm:V(te,3),coverageRatioPct:V(L,1),coverageStatus:ie,requiredPixelSizeUmForNyquist:V(q,3),optimumArrayWidthPx:G,optimumArrayHeightPx:z,displayMagnification:Y?V(Y,2):void 0}}const Lt=[];function _s(t,e){return{subscribe:Wn(t,e).subscribe}}function Wn(t,e=$){let l;const i=new Set;function a(p){if(ei(t,p)&&(t=p,l)){const m=!Lt.length;for(const d of i)d[1](),Lt.push(d,t);if(m){for(let d=0;d<Lt.length;d+=2)Lt[d][0](Lt[d+1]);Lt.length=0}}}function o(p){a(p(t))}function u(p,m=$){const d=[p,m];return i.add(d),i.size===1&&(l=e(a,o)||$),p(t),()=>{i.delete(d),i.size===0&&l&&(l(),l=null)}}return{set:a,update:o,subscribe:u}}function vs(t,e,l){const i=!Array.isArray(t),a=i?[t]:t;if(!a.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const o=e.length<2;return _s(l,(u,p)=>{let m=!1;const d=[];let x=0,P=$;const S=()=>{if(x)return;P();const w=e(i?d[0]:d,u,p);o?u(w):P=Ql(w)?w:$},H=a.map((w,j)=>ti(w,ne=>{d[j]=ne,x&=~(1<<j),m&&S()},()=>{x|=1<<j}));return m=!0,S(),function(){Ve(H),P(),m=!1}})}const Qt=Wn("zh"),$n=vs(Qt,t=>t),Zl={zh:"中文",en:"English",de:"Deutsch"},xn="microscope_calc_locale";function bs(){if(typeof window>"u")return;const t=localStorage.getItem(xn);(t==="zh"||t==="en"||t==="de")&&Qt.set(t),Qt.subscribe(e=>{try{localStorage.setItem(xn,e)}catch{}typeof document<"u"&&(document.documentElement.lang=e)})}const Gl={zh:{"titles.parameters":"参数设置","titles.visualization":"示意与对比","titles.results":"计算结果","labels.language":"界面语言","labels.theme":"主题","labels.cameraModel":"摄像头类型","labels.pixelPitch":"像素尺寸 p_sen (μm)","labels.objectiveMag":"物镜倍率 M_obj","labels.NA":"NA","labels.fieldNumber":"视场数 FN (mm)","labels.couplerMag":"C接口适配器倍率 M_C","labels.wavelength":"波长 λ (μm)","labels.display":"显示器 (100% 缩放估算)","labels.diagonalInch":"对角 D_disp (英寸)","labels.displayRes":"分辨率宽×高 R_disp","labels.sample":"显微样本","samples.hatch":"斜线阴影","groups.sensor":"传感器","groups.sampling":"采样与分辨率","groups.opticsFov":"光学与视场","labels.cameraPixelsWidth":"摄像头像素（宽）(px)","labels.cameraPixelsHeight":"摄像头像素（高）(px)","labels.cameraPixels":"摄像头","labels.camera":"摄像头","labels.cameraPixelsTitle":"摄像头像素","units.px":"px","labels.systemParams":"系统参数","tips.cameraPixelsWidth":"传感器横向像素数量（px）。与像素尺寸一起决定传感器物理宽度。","tips.cameraPixelsHeight":"传感器纵向像素数量（px）。与像素尺寸一起决定传感器物理高度。","cards.opticalResolution":"光学分辨率 (Rayleigh) r_R","cards.sampling":"采样评估","cards.totalMag":"总放大率 M_total","cards.digitalResolution":"数码分辨率","cards.objectPixel":"物方像素尺寸 p_obj","cards.sensorLimited":"传感器限制分辨率 r_N","cards.limitingResolution":"限制分辨率 (取大者)","cards.requiredPixel":"所需像素尺寸(奈奎斯特) p_req","cards.optimumArray":"最佳阵列大小(估算)","cards.objectFov":"物方视场 FOV_obj","cards.displayMag":"显示放大率(100%缩放)","cards.sensorDiagonal":"传感器对角线 D_sen","cards.projectionDiagonal":"传感器投影对角线 D_proj","cards.coverage":"覆盖比例","cards.coverageEval":"接口匹配评估","coverage.ok":"接口合适","coverage.too_small":"接口过小","coverage.too_large":"接口过大","misc.projectionDiagonalLabel":"投影对角线 = {d} mm","tips.coverageEval":"根据覆盖比例评估接口匹配：>90% 判定接口过小；<50% 判定接口过大；否则判定接口合适。","misc.fnLabel":"FN = {value} mm","misc.projectionLabel":"传感器投影 = {w} × {h} mm","misc.couplerLabel":"C接口 = {value} ×","status.optimal":"合适","status.undersampled":"欠采样","status.oversampled":"过采样","tips.cameraModel":"选择预设以自动填充摄像头像素、像素尺寸与适配器倍率。","tips.cameraPixels":"摄像头像素分辨率，配合像素尺寸推导传感器物理尺寸。","tips.sensorPixel":"传感器像素尺寸（μm）。与像素分辨率一起决定物理尺寸与采样能力。","tips.objectiveMag":"物镜标称放大倍率（4×/10×/20×/40×/100× 等）。","tips.NA":"物镜数值孔径 NA；NA 越大，分辨率越高、景深越浅。","tips.fieldNumber":"中间像面可用视场直径（mm）。","tips.couplerMag":"C 接口适配器的倍率（0.35×/0.5×/0.63×/1.0×）。","tips.wavelength":"用于分辨率计算的单色波长 λ，默认绿色 0.55 μm。","tips.display":"用于估算 100% 缩放时的屏幕放大率，不代表成像质量。","tips.diagonalInch":"显示器对角线尺寸（英寸）。","tips.displayRes":"显示器像素分辨率（宽×高）。","tips.sample":"选择示意背景，便于直观比较传感器投影覆盖。","tips.opticalResolution":"Rayleigh 准则：0.61×λ/NA，代表光学极限分辨率。","tips.sampling":"将物方像素尺寸与 Rayleigh/2 对比评估采样是否合适。","tips.objectPixel":"物方像素尺寸 p_obj = p_sen / M_total。","tips.sensorLimited":"由采样限制的最小可分辨细节 r_N = 2×p_obj。","tips.limitingResolution":"系统限制分辨率 = max(r_R, r_N)。","tips.optimumArray":"满足奈奎斯特所需的最佳像素数组大小（估算）。","tips.objectFov":"物方视场 = 传感器尺寸 / M_total。","tips.totalMag":"总放大率 = 物镜倍率 × C接口适配器倍率。","tips.sensorDiagonal":"由像素数 × 像素尺寸推导得到的传感器对角线。","tips.projectionDiagonal":"中间像面上传感器投影的对角线长度。","tips.coverage":"覆盖比例 = 投影对角线 / 视场数 × 100%。","tips.displayMag":"在 100% 缩放时屏幕上的放大倍率，仅作查看尺度参考。"},en:{"titles.parameters":"Parameters","titles.visualization":"Visualization","titles.results":"Results","labels.language":"Language","labels.theme":"Theme","labels.cameraModel":"Camera Model","labels.pixelPitch":"Pixel pitch p_sen (μm)","labels.objectiveMag":"Objective Magnification M_obj","labels.NA":"NA","labels.fieldNumber":"Field Number FN (mm)","labels.couplerMag":"C-mount adapter M_C","labels.wavelength":"Wavelength λ (μm)","labels.display":"Display (100% zoom estimation)","labels.diagonalInch":"Diagonal D_disp (inch)","labels.displayRes":"Resolution W×H R_disp","labels.sample":"Microscope Sample","samples.hatch":"Hatched pattern","groups.sensor":"Sensor","groups.sampling":"Sampling & Resolution","groups.opticsFov":"Optics & FOV","labels.cameraPixelsWidth":"Camera pixels (width) (px)","labels.cameraPixelsHeight":"Camera pixels (height) (px)","labels.cameraPixels":"Camera","labels.camera":"Camera","labels.cameraPixelsTitle":"Camera pixels","units.px":"px","labels.systemParams":"System Parameters","tips.cameraPixelsWidth":"Horizontal pixel count of the sensor (px). With pixel pitch gives physical width.","tips.cameraPixelsHeight":"Vertical pixel count of the sensor (px). With pixel pitch gives physical height.","cards.opticalResolution":"Optical Resolution (Rayleigh) r_R","cards.sampling":"Sampling Assessment","cards.totalMag":"Total Magnification M_total","cards.digitalResolution":"Digital Resolution","cards.objectPixel":"Object-side Pixel Size p_obj","cards.sensorLimited":"Sensor-limited Resolution r_N","cards.limitingResolution":"Limiting Resolution (max)","cards.requiredPixel":"Required Pixel (Nyquist) p_req","cards.optimumArray":"Optimum Array Size (est.)","cards.objectFov":"Object-side FOV","cards.displayMag":"Display Magnification (100%)","cards.sensorDiagonal":"Sensor diagonal D_sen","cards.projectionDiagonal":"Projection diagonal D_proj","cards.coverage":"Coverage Ratio","cards.coverageEval":"C-mount Match","coverage.ok":"OK","coverage.too_small":"C-mount too small","coverage.too_large":"C-mount too large","misc.projectionDiagonalLabel":"Proj. diagonal = {d} mm","tips.coverageEval":"Evaluate C-mount match by coverage: >90% → too small; <50% → too large; otherwise OK.","misc.fnLabel":"FN = {value} mm","misc.projectionLabel":"Sensor projection = {w} × {h} mm","misc.couplerLabel":"C-mount = {value}×","status.optimal":"optimal","status.undersampled":"undersampled","status.oversampled":"oversampled","tips.cameraModel":"Choose a preset to fill camera pixels, pixel size and adapter.","tips.cameraPixels":"Sensor pixel resolution; combines with pixel pitch to derive physical size.","tips.sensorPixel":"Sensor pixel pitch in micrometers. With pixel count determines physical size and sampling.","tips.objectiveMag":"Nominal objective magnification (4×/10×/20×/40×/100× etc.).","tips.NA":"Numerical Aperture; higher NA increases resolution, reduces depth of field.","tips.fieldNumber":"Usable field diameter at intermediate image plane (mm).","tips.couplerMag":"C-mount adapter magnification (0.35×/0.5×/0.63×/1.0×).","tips.wavelength":"Monochromatic wavelength λ used for resolution; default 0.55 μm (green).","tips.display":"For estimating on-screen magnification at 100% zoom only.","tips.diagonalInch":"Display diagonal in inches.","tips.displayRes":"Display pixel resolution (width × height).","tips.sample":"Choose a background sample for visual comparison.","tips.opticalResolution":"Rayleigh criterion: 0.61×λ/NA.","tips.sampling":"Compare p_obj to Rayleigh/2 (Nyquist) to rate sampling.","tips.objectPixel":"Object-side pixel size p_obj = p_sen / M_total.","tips.sensorLimited":"Nyquist-limited smallest feature r_N = 2×p_obj.","tips.limitingResolution":"Limiting resolution = max(r_R, r_N).","tips.optimumArray":"Best pixel array size to meet Nyquist with current size.","tips.objectFov":"Object-side FOV = sensor size / M_total.","tips.totalMag":"Total magnification = objective × C-mount adapter.","tips.sensorDiagonal":"Derived from pixels × pixel pitch.","tips.projectionDiagonal":"Diagonal of sensor projection in the intermediate plane.","tips.coverage":"Coverage = projection diagonal / FN × 100%.","tips.displayMag":"On-screen magnification at 100% zoom (viewing-only metric)."},de:{"titles.parameters":"Parameter","titles.visualization":"Visualisierung","titles.results":"Ergebnisse","labels.language":"Sprache","labels.theme":"Thema","labels.cameraModel":"Kameratyp","labels.pixelPitch":"Pixelgröße p_sen (μm)","labels.objectiveMag":"Objektivvergrößerung M_obj","labels.NA":"NA","labels.fieldNumber":"Sehfelddurchmesser FN (mm)","labels.couplerMag":"C-Mount-Adapter M_C","labels.wavelength":"Wellenlänge λ (μm)","labels.display":"Display (100%-Zoom-Schätzung)","labels.diagonalInch":"Diagonale D_disp (Zoll)","labels.displayRes":"Auflösung B×H R_disp","labels.sample":"Mikroskopisches Präparat","samples.hatch":"Schraffur","groups.sensor":"Sensor","groups.sampling":"Abtastung & Auflösung","groups.opticsFov":"Optik & Sichtfeld","labels.cameraPixelsWidth":"Kamerapixel (Breite) (px)","labels.cameraPixelsHeight":"Kamerapixel (Höhe) (px)","labels.cameraPixels":"Kamera","labels.camera":"Kamera","labels.cameraPixelsTitle":"Kamerapixel","units.px":"px","labels.systemParams":"Systemparameter","tips.cameraPixelsWidth":"Horizontale Pixelanzahl des Sensors (px). Mit Pixelgröße ergibt sich die physikalische Breite.","tips.cameraPixelsHeight":"Vertikale Pixelanzahl des Sensors (px). Mit Pixelgröße ergibt sich die physikalische Höhe.","cards.opticalResolution":"Optische Auflösung (Rayleigh) r_R","cards.sampling":"Abtastbewertung","cards.totalMag":"Gesamtvergrößerung M_total","cards.digitalResolution":"Digitale Auflösung","cards.objectPixel":"Pixelgröße objektseitig p_obj","cards.sensorLimited":"Sensorbegrenzte Auflösung r_N","cards.limitingResolution":"Begrenzende Auflösung (max)","cards.requiredPixel":"Erforderliche Pixel (Nyquist) p_req","cards.optimumArray":"Optimale Arraygröße (Schätzung)","cards.objectFov":"Sichtfeld objektseitig","cards.displayMag":"Bildschirmvergrößerung (100%)","cards.sensorDiagonal":"Sensor-Diagonale D_sen","cards.projectionDiagonal":"Projektions-Diagonale D_proj","cards.coverage":"Abdeckungsgrad","cards.coverageEval":"Adapter-Passung","coverage.ok":"Passend","coverage.too_small":"Adapter zu klein","coverage.too_large":"Adapter zu groß","misc.projectionDiagonalLabel":"Proj.-Diagonale = {d} mm","tips.coverageEval":"Adapter-Passung anhand Abdeckungsgrad: >90% → zu klein; <50% → zu groß; sonst passend.","misc.fnLabel":"FN = {value} mm","misc.projectionLabel":"Sensorprojektion = {w} × {h} mm","misc.couplerLabel":"C‑Mount = {value}×","status.optimal":"optimal","status.undersampled":"Unterabtastung","status.oversampled":"Überabtastung","tips.cameraModel":"Wählen Sie ein Preset, um Pixel, Pixelgröße und Adapter auszufüllen.","tips.cameraPixels":"Sensorauflösung in Pixeln; zusammen mit der Pixelgröße ergibt sich die physikalische Größe.","tips.sensorPixel":"Sensorpixelgröße (μm). Mit Pixelanzahl ergibt sich die physikalische Größe und das Sampling.","tips.objectiveMag":"Nennvergrößerung des Objektivs (4×/10×/20×/40×/100× etc.).","tips.NA":"Numerische Apertur; größere NA erhöht die Auflösung und verringert die Schärfentiefe.","tips.fieldNumber":"Nutzbarer Sehfelddurchmesser in der Zwischenbildebene (mm).","tips.couplerMag":"C-Mount-Adaptervergrößerung (0,35×/0,5×/0,63×/0,8×/1,0×).","tips.wavelength":"Monochromatische Wellenlänge λ; Standard 0,55 μm (grün).","tips.display":"Schätzung der Bildschirmvergrößerung bei 100% Zoom.","tips.diagonalInch":"Bildschirmdiagonale in Zoll.","tips.displayRes":"Bildschirmauflösung (Breite × Höhe).","tips.sample":"Hintergrund zur visuellen FOV-Beurteilung wählen.","tips.opticalResolution":"Rayleigh-Kriterium: 0,61×λ/NA.","tips.sampling":"Vergleich p_obj mit Rayleigh/2 (Nyquist) zur Beurteilung der Abtastung.","tips.objectPixel":"Objektseitige Pixelgröße p_obj = p_sen / M_total.","tips.sensorLimited":"Nyquist-begrenztes Detail r_N = 2×p_obj.","tips.limitingResolution":"Begrenzende Auflösung = max(r_R, r_N).","tips.optimumArray":"Beste Pixelanzahl, um Nyquist zu erfüllen.","tips.objectFov":"Objektseitiges Sichtfeld = Sensorgröße / M_total.","tips.totalMag":"Gesamtvergrößerung = Objektiv × C-Mount-Adapter.","tips.sensorDiagonal":"Abgeleitet aus Pixelanzahl × Pixelgröße.","tips.projectionDiagonal":"Diagonale der Sensorprojektion in der Zwischenbildebene.","tips.coverage":"Abdeckungsgrad = Projektionsdiagonale / FN × 100%.","tips.displayMag":"Bildschirmvergrößerung bei 100% Zoom (nur Betrachtungsmaß)."}};function f(t,e){const l=Vn(Qt);let a=(Gl[l]||Gl.zh)[t]||Gl.en[t]||t;if(e)for(const o of Object.keys(e))a=a.replace(`{${o}}`,String(e[o]));return a}const $s=t=>({}),Pn=t=>({});function Mn(t){let e,l,i,a;const o=t[6].default,u=Fn(o,t,t[5],null);return{c(){e=c("div"),u&&u.c(),s(e,"class","tip-panel svelte-1o8kths"),s(e,"role","tooltip"),s(e,"aria-live","polite")},m(p,m){v(p,e,m),u&&u.m(e,null),t[7](e),l=!0,i||(a=E(e,"introend",t[4]),i=!0)},p(p,m){u&&u.p&&(!l||m&32)&&Ln(u,o,p,p[5],l?zn(o,p[5],m,null):On(p[5]),null)},i(p){l||(y(u,p),l=!0)},o(p){N(u,p),l=!1},d(p){p&&_(e),u&&u.d(p),t[7](null),i=!1,a()}}}function xs(t){let e,l,i,a,o;const u=t[6].trigger,p=Fn(u,t,t[5],Pn);let m=t[0]&&Mn(t);return{c(){e=c("div"),p&&p.c(),l=b(),m&&m.c(),s(e,"class","tip-root svelte-1o8kths")},m(d,x){v(d,e,x),p&&p.m(e,null),n(e,l),m&&m.m(e,null),i=!0,a||(o=[E(e,"mouseenter",t[2]),E(e,"mouseleave",t[3])],a=!0)},p(d,[x]){p&&p.p&&(!i||x&32)&&Ln(p,u,d,d[5],i?zn(u,d[5],x,$s):On(d[5]),Pn),d[0]?m?(m.p(d,x),x&1&&y(m,1)):(m=Mn(d),m.c(),y(m,1),m.m(e,null)):m&&(ls(),N(m,1,1,()=>{m=null}),is())},i(d){i||(y(p,d),y(m),i=!0)},o(d){N(p,d),N(m),i=!1},d(d){d&&_(e),p&&p.d(d),m&&m.d(),a=!1,Ve(o)}}}function Ps(t,e,l){let{$$slots:i={},$$scope:a}=e,o=!1,u,p=0,m=0,d=null;function x(j){p=j.clientX,m=j.clientY,d&&H()}function P(){clearTimeout(u),l(0,o=!0),document.addEventListener("mousemove",x)}function S(){u=setTimeout(()=>{l(0,o=!1),document.removeEventListener("mousemove",x)},120)}function H(){if(!d)return;const j=12,ne=window.innerWidth,Z=window.innerHeight,q=d.getBoundingClientRect();let G=p+j,z=m+j;G+q.width>ne-j&&(G=Math.max(j,ne-q.width-j)),z+q.height>Z-j&&(z=Math.max(j,Z-q.height-j)),l(1,d.style.left=G+"px",d),l(1,d.style.top=z+"px",d)}Xn(()=>{clearTimeout(u),document.removeEventListener("mousemove",x)});function w(j){Yl[j?"unshift":"push"](()=>{d=j,l(1,d)})}return t.$$set=j=>{"$$scope"in j&&l(5,a=j.$$scope)},[o,d,P,S,H,a,i,w]}class D extends Hn{constructor(e){super(),Un(this,e,Ps,xs,ei,{})}}const Jl=[{key:"hatch",label:"samples.hatch"},{key:"Canine Kidney.jpg",label:"Canine Kidney.jpg",filename:"samples/Canine Kidney.jpg"},{key:"cell.jpg",label:"cell.jpg",filename:"samples/cell.jpg"},{key:"Rat Thoracic Aorta.jpg",label:"Rat Thoracic Aorta.jpg",filename:"samples/Rat Thoracic Aorta.jpg"},{key:"Sclerenchyma 40x.jpg",label:"Sclerenchyma 40x.jpg",filename:"samples/Sclerenchyma 40x.jpg"}],In=[{name:"Educam 105",widthPx:2592,heightPx:1944,pixelPitchUm:2,couplerMag:.5},{name:"Axiocam 105 color",widthPx:2592,heightPx:1944,pixelPitchUm:2.2,couplerMag:.5},{name:'Axiocam 212 color (12MP; 1/1.7")',widthPx:4032,heightPx:3044,pixelPitchUm:1.85,couplerMag:.5},{name:'Axiocam 212 color (4K; 1/2.1")',widthPx:3840,heightPx:2160,pixelPitchUm:1.85,couplerMag:.5},{name:'Axiocam 212 color (1080p; 1/2.1")',widthPx:1920,heightPx:1080,pixelPitchUm:3.7,couplerMag:.5},{name:'Axiocam 203 mono (3MP; 1/1.7")',widthPx:1984,heightPx:1522,pixelPitchUm:3.7,couplerMag:.5},{name:'Axiocam 203 mono (1080p; 1/2.1")',widthPx:1920,heightPx:1080,pixelPitchUm:3.7,couplerMag:.5},{name:'Axiocam 305 color (2/3")',widthPx:2464,heightPx:2056,pixelPitchUm:3.45,couplerMag:.63},{name:'Axiocam 705 color (2/3")',widthPx:2464,heightPx:2056,pixelPitchUm:3.45,couplerMag:.63},{name:'Axiocam 712 color (1")',widthPx:4096,heightPx:3008,pixelPitchUm:3.45,couplerMag:1},{name:'Axiocam 807 color (1.1")',widthPx:3216,heightPx:2208,pixelPitchUm:4.5,couplerMag:1},{name:'Axiocam 820 color (1.1")',widthPx:4512,heightPx:4512,pixelPitchUm:2.74,couplerMag:1}];function Ms(t,e,l){const i=t.slice();return i[53]=e[l],i}function wn(t,e,l){const i=t.slice();return i[56]=e[l],i}function jn(t,e,l){const i=t.slice();return i[59]=e[l],i}function Cn(t,e,l){const i=t.slice();return i[62]=e[l],i}function ws(t,e,l){const i=t.slice();return i[56]=e[l],i[66]=l,i}function js(t){let e,l,i=f("tips.cameraModel")+"",a;return{c(){e=c("div"),l=c("h4"),l.textContent=`${f("labels.cameraModel")}`,a=h(i)},m(o,u){v(o,e,u),n(e,l),n(e,a)},p:$,d(o){o&&_(e)}}}function Cs(t){let e;return{c(){e=c("span"),e.textContent=`${f("labels.cameraModel")}`,s(e,"slot","trigger"),s(e,"class","label")},m(l,i){v(l,e,i)},p:$,d(l){l&&_(e)}}}function ys(t){let e;return{c(){e=c("option"),e.textContent=`${t[56].name}`,e.__value=t[66],C(e,e.__value)},m(l,i){v(l,e,i)},p:$,d(l){l&&_(e)}}}function Ns(t){let e,l,i=f("tips.cameraPixelsWidth")+"",a;return{c(){e=c("div"),l=c("h4"),l.textContent=`${f("labels.cameraPixelsWidth")}`,a=h(i)},m(o,u){v(o,e,u),n(e,l),n(e,a)},p:$,d(o){o&&_(e)}}}function As(t){let e;return{c(){e=c("span"),e.textContent=`${f("labels.cameraPixelsWidth")}`,s(e,"slot","trigger"),s(e,"class","label")},m(l,i){v(l,e,i)},p:$,d(l){l&&_(e)}}}function Ss(t){let e,l,i=f("tips.cameraPixelsHeight")+"",a;return{c(){e=c("div"),l=c("h4"),l.textContent=`${f("labels.cameraPixelsHeight")}`,a=h(i)},m(o,u){v(o,e,u),n(e,l),n(e,a)},p:$,d(o){o&&_(e)}}}function Rs(t){let e;return{c(){e=c("span"),e.textContent=`${f("labels.cameraPixelsHeight")}`,s(e,"slot","trigger"),s(e,"class","label")},m(l,i){v(l,e,i)},p:$,d(l){l&&_(e)}}}function ks(t){let e,l,i=f("tips.sensorPixel")+"",a;return{c(){e=c("div"),l=c("h4"),l.textContent=`${f("labels.pixelPitch")}`,a=h(i)},m(o,u){v(o,e,u),n(e,l),n(e,a)},p:$,d(o){o&&_(e)}}}function Fs(t){let e;return{c(){e=c("span"),e.textContent=`${f("labels.pixelPitch")}`,s(e,"slot","trigger"),s(e,"class","label")},m(l,i){v(l,e,i)},p:$,d(l){l&&_(e)}}}function Ds(t){let e,l,i=f("tips.objectiveMag")+"",a;return{c(){e=c("div"),l=c("h4"),l.textContent=`${f("labels.objectiveMag")}`,a=h(i)},m(o,u){v(o,e,u),n(e,l),n(e,a)},p:$,d(o){o&&_(e)}}}function zs(t){let e;return{c(){e=c("span"),e.textContent=`${f("labels.objectiveMag")}`,s(e,"slot","trigger"),s(e,"class","label")},m(l,i){v(l,e,i)},p:$,d(l){l&&_(e)}}}function yn(t){let e,l=t[62]+"",i,a;return{c(){e=c("option"),i=h(l),a=h("×"),e.__value=t[62],C(e,e.__value)},m(o,u){v(o,e,u),n(e,i),n(e,a)},p:$,d(o){o&&_(e)}}}function Ls(t){let e,l,i=f("tips.NA")+"",a;return{c(){e=c("div"),l=c("h4"),l.textContent=`${f("labels.NA")}`,a=h(i)},m(o,u){v(o,e,u),n(e,l),n(e,a)},p:$,d(o){o&&_(e)}}}function Os(t){let e;return{c(){e=c("span"),e.textContent=`${f("labels.NA")}`,s(e,"slot","trigger"),s(e,"class","label")},m(l,i){v(l,e,i)},p:$,d(l){l&&_(e)}}}function Es(t){let e,l,i=f("tips.fieldNumber")+"",a;return{c(){e=c("div"),l=c("h4"),l.textContent=`${f("labels.fieldNumber")}`,a=h(i)},m(o,u){v(o,e,u),n(e,l),n(e,a)},p:$,d(o){o&&_(e)}}}function Us(t){let e;return{c(){e=c("span"),e.textContent=`${f("labels.fieldNumber")}`,s(e,"slot","trigger"),s(e,"class","label")},m(l,i){v(l,e,i)},p:$,d(l){l&&_(e)}}}function Nn(t){let e,l=t[59]+"",i;return{c(){e=c("option"),i=h(l),e.__value=t[59],C(e,e.__value)},m(a,o){v(a,e,o),n(e,i)},p:$,d(a){a&&_(e)}}}function Hs(t){let e,l,i=f("tips.couplerMag")+"",a;return{c(){e=c("div"),l=c("h4"),l.textContent=`${f("labels.couplerMag")}`,a=h(i)},m(o,u){v(o,e,u),n(e,l),n(e,a)},p:$,d(o){o&&_(e)}}}function Ws(t){let e;return{c(){e=c("span"),e.textContent=`${f("labels.couplerMag")}`,s(e,"slot","trigger"),s(e,"class","label")},m(l,i){v(l,e,i)},p:$,d(l){l&&_(e)}}}function An(t){let e,l=t[56]+"",i;return{c(){e=c("option"),i=h(l),e.__value=t[56],C(e,e.__value)},m(a,o){v(a,e,o),n(e,i)},p:$,d(a){a&&_(e)}}}function Is(t){let e,l,i=f("tips.wavelength")+"",a;return{c(){e=c("div"),l=c("h4"),l.textContent=`${f("labels.wavelength")}`,a=h(i)},m(o,u){v(o,e,u),n(e,l),n(e,a)},p:$,d(o){o&&_(e)}}}function qs(t){let e;return{c(){e=c("span"),e.textContent=`${f("labels.wavelength")}`,s(e,"slot","trigger"),s(e,"class","label")},m(l,i){v(l,e,i)},p:$,d(l){l&&_(e)}}}function Ts(t){let e,l,i=f("tips.display")+"",a;return{c(){e=c("div"),l=c("h4"),l.textContent=`${f("labels.display")}`,a=h(i)},m(o,u){v(o,e,u),n(e,l),n(e,a)},p:$,d(o){o&&_(e)}}}function Bs(t){let e;return{c(){e=c("span"),e.textContent=`${f("labels.display")}`,s(e,"slot","trigger"),s(e,"class","label")},m(l,i){v(l,e,i)},p:$,d(l){l&&_(e)}}}function Ks(t){let e,l,i=f("tips.diagonalInch")+"",a;return{c(){e=c("div"),l=c("h4"),l.textContent=`${f("labels.diagonalInch")}`,a=h(i)},m(o,u){v(o,e,u),n(e,l),n(e,a)},p:$,d(o){o&&_(e)}}}function Vs(t){let e;return{c(){e=c("span"),e.textContent=`${f("labels.diagonalInch")}`,s(e,"slot","trigger"),s(e,"class","label")},m(l,i){v(l,e,i)},p:$,d(l){l&&_(e)}}}function Zs(t){let e,l,i=f("tips.displayRes")+"",a;return{c(){e=c("div"),l=c("h4"),l.textContent=`${f("labels.displayRes")}`,a=h(i)},m(o,u){v(o,e,u),n(e,l),n(e,a)},p:$,d(o){o&&_(e)}}}function Gs(t){let e;return{c(){e=c("span"),e.textContent=`${f("labels.displayRes")}`,s(e,"slot","trigger"),s(e,"class","label")},m(l,i){v(l,e,i)},p:$,d(l){l&&_(e)}}}function Ys(t){let e,l,i=f("tips.sample")+"",a;return{c(){e=c("div"),l=c("h4"),l.textContent=`${f("labels.sample")}`,a=h(i)},m(o,u){v(o,e,u),n(e,l),n(e,a)},p:$,d(o){o&&_(e)}}}function Xs(t){let e;return{c(){e=c("span"),e.textContent=`${f("labels.sample")}`,s(e,"slot","trigger"),s(e,"class","label")},m(l,i){v(l,e,i)},p:$,d(l){l&&_(e)}}}function Js(t){let e;return{c(){e=c("option"),e.textContent=`${t[53].label==="samples.hatch"?f(t[53].label):t[53].label}`,e.__value=t[53].key,C(e,e.__value)},m(l,i){v(l,e,i)},p:$,d(l){l&&_(e)}}}function Qs(t){let e,l;return{c(){e=B("circle"),s(e,"cx","120"),s(e,"cy","120"),s(e,"r",l=t[13]/2*t[17]),s(e,"fill","url(#hatch)")},m(i,a){v(i,e,a)},p(i,a){a[0]&139264&&l!==(l=i[13]/2*i[17])&&s(e,"r",l)},d(i){i&&_(e)}}}function ea(t){let e;return{c(){e=B("image"),s(e,"href",t[19]),s(e,"x","0"),s(e,"y","0"),s(e,"width","240"),s(e,"height","240"),s(e,"preserveAspectRatio","xMidYMid slice"),s(e,"clip-path","url(#fovClip)")},m(l,i){v(l,e,i)},p(l,i){i[0]&524288&&s(e,"href",l[19])},d(l){l&&_(e)}}}function ta(t){let e,l,i=f("tips.sensorDiagonal")+"",a;return{c(){e=c("div"),l=c("h4"),l.textContent=`${f("cards.sensorDiagonal")}`,a=h(i)},m(o,u){v(o,e,u),n(e,l),n(e,a)},p:$,d(o){o&&_(e)}}}function la(t){let e,l,i,a=t[12].sensorDiagonalMm+"",o,u,p,m=t[12].sensorWidthMm+"",d,x,P=t[12].sensorHeightMm+"",S,H;return{c(){e=c("span"),l=c("h3"),l.textContent=`${f("cards.sensorDiagonal")}`,i=c("div"),o=h(a),u=c("span"),u.textContent="mm",p=c("div"),d=h(m),x=h(" × "),S=h(P),H=h(" mm"),s(u,"class","unit"),s(i,"class","value"),s(p,"class","label"),s(e,"slot","trigger"),s(e,"class","card")},m(w,j){v(w,e,j),n(e,l),n(e,i),n(i,o),n(i,u),n(e,p),n(p,d),n(p,x),n(p,S),n(p,H)},p(w,j){j[0]&4096&&a!==(a=w[12].sensorDiagonalMm+"")&&U(o,a),j[0]&4096&&m!==(m=w[12].sensorWidthMm+"")&&U(d,m),j[0]&4096&&P!==(P=w[12].sensorHeightMm+"")&&U(S,P)},d(w){w&&_(e)}}}function ia(t){let e,l,i=f("tips.projectionDiagonal")+"",a;return{c(){e=c("div"),l=c("h4"),l.textContent=`${f("cards.projectionDiagonal")}`,a=h(i)},m(o,u){v(o,e,u),n(e,l),n(e,a)},p:$,d(o){o&&_(e)}}}function na(t){let e,l,i,a=t[12].projectionDiagonalMm+"",o,u;return{c(){e=c("span"),l=c("h3"),l.textContent=`${f("cards.projectionDiagonal")}`,i=c("div"),o=h(a),u=c("span"),u.textContent="mm",s(u,"class","unit"),s(i,"class","value"),s(e,"slot","trigger"),s(e,"class","card")},m(p,m){v(p,e,m),n(e,l),n(e,i),n(i,o),n(i,u)},p(p,m){m[0]&4096&&a!==(a=p[12].projectionDiagonalMm+"")&&U(o,a)},d(p){p&&_(e)}}}function sa(t){let e,l,i=f("tips.coverage")+"",a;return{c(){e=c("div"),l=c("h4"),l.textContent=`${f("cards.coverage")}`,a=h(i)},m(o,u){v(o,e,u),n(e,l),n(e,a)},p:$,d(o){o&&_(e)}}}function aa(t){let e,l,i,a=t[12].coverageRatioPct+"",o,u;return{c(){e=c("span"),l=c("h3"),l.textContent=`${f("cards.coverage")}`,i=c("div"),o=h(a),u=c("span"),u.textContent="%",s(u,"class","unit"),s(i,"class","value"),s(e,"slot","trigger"),s(e,"class","card")},m(p,m){v(p,e,m),n(e,l),n(e,i),n(i,o),n(i,u)},p(p,m){m[0]&4096&&a!==(a=p[12].coverageRatioPct+"")&&U(o,a)},d(p){p&&_(e)}}}function oa(t){let e,l,i=f("tips.coverageEval")+"",a;return{c(){e=c("div"),l=c("h4"),l.textContent=`${f("cards.coverageEval")}`,a=h(i)},m(o,u){v(o,e,u),n(e,l),n(e,a)},p:$,d(o){o&&_(e)}}}function ra(t){let e,l,i,a=f(`coverage.${t[12].coverageStatus}`)+"",o,u;return{c(){e=c("span"),l=c("h3"),l.textContent=`${f("cards.coverageEval")}`,i=c("div"),o=h(a),s(i,"class",u=t[12].coverageStatus==="ok"?"badge ok":"badge err"),s(e,"slot","trigger"),s(e,"class","card")},m(p,m){v(p,e,m),n(e,l),n(e,i),n(i,o)},p(p,m){m[0]&4096&&a!==(a=f(`coverage.${p[12].coverageStatus}`)+"")&&U(o,a),m[0]&4096&&u!==(u=p[12].coverageStatus==="ok"?"badge ok":"badge err")&&s(i,"class",u)},d(p){p&&_(e)}}}function ca(t){let e,l,i=f("tips.opticalResolution")+"",a;return{c(){e=c("div"),l=c("h4"),l.textContent=`${f("cards.opticalResolution")}`,a=h(i)},m(o,u){v(o,e,u),n(e,l),n(e,a)},p:$,d(o){o&&_(e)}}}function ua(t){let e,l,i,a=t[12].rayleighResolutionUm+"",o,u;return{c(){e=c("span"),l=c("h3"),l.textContent=`${f("cards.opticalResolution")}`,i=c("div"),o=h(a),u=c("span"),u.textContent="μm",s(u,"class","unit"),s(i,"class","value"),s(e,"slot","trigger"),s(e,"class","card")},m(p,m){v(p,e,m),n(e,l),n(e,i),n(i,o),n(i,u)},p(p,m){m[0]&4096&&a!==(a=p[12].rayleighResolutionUm+"")&&U(o,a)},d(p){p&&_(e)}}}function pa(t){let e,l,i=f("tips.objectPixel")+"",a;return{c(){e=c("div"),l=c("h4"),l.textContent=`${f("cards.objectPixel")}`,a=h(i)},m(o,u){v(o,e,u),n(e,l),n(e,a)},p:$,d(o){o&&_(e)}}}function ga(t){let e,l,i,a=t[12].objectPixelSizeUm+"",o,u;return{c(){e=c("span"),l=c("h3"),l.textContent=`${f("cards.digitalResolution")}`,i=c("div"),o=h(a),u=c("span"),u.textContent="μm/px",s(u,"class","unit"),s(i,"class","value"),s(e,"slot","trigger"),s(e,"class","card")},m(p,m){v(p,e,m),n(e,l),n(e,i),n(i,o),n(i,u)},p(p,m){m[0]&4096&&a!==(a=p[12].objectPixelSizeUm+"")&&U(o,a)},d(p){p&&_(e)}}}function fa(t){let e,l,i=f("tips.sampling")+"",a;return{c(){e=c("div"),l=c("h4"),l.textContent=`${f("cards.sampling")}`,a=h(i)},m(o,u){v(o,e,u),n(e,l),n(e,a)},p:$,d(o){o&&_(e)}}}function ma(t){let e,l,i,a=f(`status.${t[12].samplingStatus}`)+"",o,u;return{c(){e=c("span"),l=c("h3"),l.textContent=`${f("cards.sampling")}`,i=c("div"),o=h(a),s(i,"class",u=t[12].samplingStatus==="optimal"?"badge ok":"badge err"),s(e,"slot","trigger"),s(e,"class","card")},m(p,m){v(p,e,m),n(e,l),n(e,i),n(i,o)},p(p,m){m[0]&4096&&a!==(a=f(`status.${p[12].samplingStatus}`)+"")&&U(o,a),m[0]&4096&&u!==(u=p[12].samplingStatus==="optimal"?"badge ok":"badge err")&&s(i,"class",u)},d(p){p&&_(e)}}}function da(t){let e,l,i=f("tips.totalMag")+"",a;return{c(){e=c("div"),l=c("h4"),l.textContent=`${f("cards.totalMag")}`,a=h(i)},m(o,u){v(o,e,u),n(e,l),n(e,a)},p:$,d(o){o&&_(e)}}}function ha(t){let e,l,i,a=t[12].totalMagnification+"",o,u;return{c(){e=c("span"),l=c("h3"),l.textContent=`${f("cards.totalMag")}`,i=c("div"),o=h(a),u=h("×"),s(i,"class","value"),s(e,"slot","trigger"),s(e,"class","card")},m(p,m){v(p,e,m),n(e,l),n(e,i),n(i,o),n(i,u)},p(p,m){m[0]&4096&&a!==(a=p[12].totalMagnification+"")&&U(o,a)},d(p){p&&_(e)}}}function _a(t){let e,l,i=f("tips.objectFov")+"",a;return{c(){e=c("div"),l=c("h4"),l.textContent=`${f("cards.objectFov")}`,a=h(i)},m(o,u){v(o,e,u),n(e,l),n(e,a)},p:$,d(o){o&&_(e)}}}function va(t){let e,l,i,a=t[12].objectFovWidthMm+"",o,u,p=t[12].objectFovHeightMm+"",m,d;return{c(){e=c("span"),l=c("h3"),l.textContent=`${f("cards.objectFov")}`,i=c("div"),o=h(a),u=h(" × "),m=h(p),d=c("span"),d.textContent="mm",s(d,"class","unit"),s(i,"class","value"),s(e,"slot","trigger"),s(e,"class","card")},m(x,P){v(x,e,P),n(e,l),n(e,i),n(i,o),n(i,u),n(i,m),n(i,d)},p(x,P){P[0]&4096&&a!==(a=x[12].objectFovWidthMm+"")&&U(o,a),P[0]&4096&&p!==(p=x[12].objectFovHeightMm+"")&&U(m,p)},d(x){x&&_(e)}}}function ba(t){let e,l,i=f("tips.optimumArray")+"",a;return{c(){e=c("div"),l=c("h4"),l.textContent=`${f("cards.optimumArray")}`,a=h(i)},m(o,u){v(o,e,u),n(e,l),n(e,a)},p:$,d(o){o&&_(e)}}}function $a(t){let e,l,i,a=t[12].optimumArrayWidthPx+"",o,u,p=t[12].optimumArrayHeightPx+"",m,d;return{c(){e=c("span"),l=c("h3"),l.textContent=`${f("cards.optimumArray")}`,i=c("div"),o=h(a),u=h(" × "),m=h(p),d=c("span"),d.textContent="px",s(d,"class","unit"),s(i,"class","value"),s(e,"slot","trigger"),s(e,"class","card")},m(x,P){v(x,e,P),n(e,l),n(e,i),n(i,o),n(i,u),n(i,m),n(i,d)},p(x,P){P[0]&4096&&a!==(a=x[12].optimumArrayWidthPx+"")&&U(o,a),P[0]&4096&&p!==(p=x[12].optimumArrayHeightPx+"")&&U(m,p)},d(x){x&&_(e)}}}function xa(t){let e,l,i=f("tips.displayMag")+"",a;return{c(){e=c("div"),l=c("h4"),l.textContent=`${f("cards.displayMag")}`,a=h(i)},m(o,u){v(o,e,u),n(e,l),n(e,a)},p:$,d(o){o&&_(e)}}}function Sn(t){let e;return{c(){e=c("span"),e.textContent="×",s(e,"class","unit")},m(l,i){v(l,e,i)},d(l){l&&_(e)}}}function Pa(t){let e,l,i,a=(t[12].displayMagnification??"—")+"",o,u=t[12].displayMagnification&&Sn();return{c(){e=c("span"),l=c("h3"),l.textContent=`${f("cards.displayMag")}`,i=c("div"),o=h(a),u&&u.c(),s(i,"class","value"),s(e,"slot","trigger"),s(e,"class","card")},m(p,m){v(p,e,m),n(e,l),n(e,i),n(i,o),u&&u.m(i,null)},p(p,m){m[0]&4096&&a!==(a=(p[12].displayMagnification??"—")+"")&&U(o,a),p[12].displayMagnification?u||(u=Sn(),u.c(),u.m(i,null)):u&&(u.d(1),u=null)},d(p){p&&_(e),u&&u.d()}}}function Ma(t){let e,l,i,a,o,u,p,m,d,x,P,S,H,w,j=f("labels.theme")+"",ne,Z,q,G,z,Y,te,L,ie,se,ae,Ue,Ze,ge,Ge,fe,el,oe,tl,re,je,ll,ce,il,Ce,Ye,ye,nl,me,sl,al,ol,Ne,xt,rl,He,We,O,X,Pt,_e,li,Ae,ii,Ut,Xe,ni,Se,si,Je,Ht,Qe,ai,Mt,Re,oi,ke,ri,Wt,et,ci,wt,Fe,ui,De,pi,It,tt,gi,de,fi,qt,lt,mi,jt,Tt,it,di,ze,hi,Bt,nt,_i,Ct,Le,vi,Oe,bi,ve,cl,$i,Kt,Vt,st,xi,Ie,Pi,ul,le,pl,gl,yt,fl,at,Zt,be,ml,ue,dl,hl,_l,vl,pe,bl,$l,xl,Pl,$e,Mi,Ml=t[18].toFixed(2)+"",Ll,wi,Ee,Nt,wl=f("misc.fnLabel",{value:t[5]})+"",Ol,At,jl=f("misc.projectionLabel",{w:t[15].toFixed(2),h:t[14].toFixed(2)})+"",El,St,Cl=f("misc.projectionDiagonalLabel",{d:t[18].toFixed(2)})+"",Ul,Rt,yl=f("misc.couplerLabel",{value:t[6]})+"",Hl,ji,he,Wl,Nl=f("misc.fnLabel",{value:t[5]})+"",Il,Ci,ql,Al=f("misc.projectionLabel",{w:t[15].toFixed(2),h:t[14].toFixed(2)})+"",Tl,yi,K,Sl,Ni,Rl,Ai,xe,ot,Si,rt,Ri,ct,ki,ut,Fi,kl,Di,qe,pt,zi,gt,Li,ft,Oi,Fl,Ei,Pe,mt,Ui,dt,Hi,ht,Wi,_t,W,Bl,Ii;L=new D({props:{$$slots:{trigger:[Cs],default:[js]},$$scope:{ctx:t}}});let qi=Be(In),vt=[];for(let r=0;r<qi.length;r+=1)vt[r]=ys(ws(t,qi,r));fe=new D({props:{$$slots:{trigger:[As],default:[Ns]},$$scope:{ctx:t}}}),je=new D({props:{$$slots:{trigger:[Rs],default:[Ss]},$$scope:{ctx:t}}}),ye=new D({props:{$$slots:{trigger:[Fs],default:[ks]},$$scope:{ctx:t}}}),O=new D({props:{$$slots:{trigger:[zs],default:[Ds]},$$scope:{ctx:t}}});let kt=Be(t[24]),J=[];for(let r=0;r<kt.length;r+=1)J[r]=yn(Cn(t,kt,r));Xe=new D({props:{$$slots:{trigger:[Os],default:[Ls]},$$scope:{ctx:t}}}),Qe=new D({props:{$$slots:{trigger:[Us],default:[Es]},$$scope:{ctx:t}}});let Ft=Be(t[23]),Q=[];for(let r=0;r<Ft.length;r+=1)Q[r]=Nn(jn(t,Ft,r));et=new D({props:{$$slots:{trigger:[Ws],default:[Hs]},$$scope:{ctx:t}}});let Dt=Be(t[22]),ee=[];for(let r=0;r<Dt.length;r+=1)ee[r]=An(wn(t,Dt,r));tt=new D({props:{$$slots:{trigger:[qs],default:[Is]},$$scope:{ctx:t}}}),lt=new D({props:{$$slots:{trigger:[Bs],default:[Ts]},$$scope:{ctx:t}}}),it=new D({props:{$$slots:{trigger:[Vs],default:[Ks]},$$scope:{ctx:t}}}),nt=new D({props:{$$slots:{trigger:[Gs],default:[Zs]},$$scope:{ctx:t}}}),st=new D({props:{$$slots:{trigger:[Xs],default:[Ys]},$$scope:{ctx:t}}});let Ti=Be(Jl),bt=[];for(let r=0;r<Ti.length;r+=1)bt[r]=Js(Ms(t,Ti,r));function Bi(r,g){return r[19]?ea:Qs}let Dl=Bi(t),Me=Dl(t);return ot=new D({props:{$$slots:{trigger:[la],default:[ta]},$$scope:{ctx:t}}}),rt=new D({props:{$$slots:{trigger:[na],default:[ia]},$$scope:{ctx:t}}}),ct=new D({props:{$$slots:{trigger:[aa],default:[sa]},$$scope:{ctx:t}}}),ut=new D({props:{$$slots:{trigger:[ra],default:[oa]},$$scope:{ctx:t}}}),pt=new D({props:{$$slots:{trigger:[ua],default:[ca]},$$scope:{ctx:t}}}),gt=new D({props:{$$slots:{trigger:[ga],default:[pa]},$$scope:{ctx:t}}}),ft=new D({props:{$$slots:{trigger:[ma],default:[fa]},$$scope:{ctx:t}}}),mt=new D({props:{$$slots:{trigger:[ha],default:[da]},$$scope:{ctx:t}}}),dt=new D({props:{$$slots:{trigger:[va],default:[_a]},$$scope:{ctx:t}}}),ht=new D({props:{$$slots:{trigger:[$a],default:[ba]},$$scope:{ctx:t}}}),_t=new D({props:{$$slots:{trigger:[Pa],default:[xa]},$$scope:{ctx:t}}}),{c(){e=c("div"),l=c("div"),i=c("div"),a=c("div"),a.textContent=`${f("titles.parameters")}`,o=b(),u=c("div"),p=c("label"),p.textContent=`${f("labels.language")}`,m=b(),d=c("select"),x=c("option"),x.textContent=`${Zl.zh}`,P=c("option"),P.textContent=`${Zl.en}`,S=c("option"),S.textContent=`${Zl.de}`,H=b(),w=c("button"),ne=h(j),Z=h(": "),q=h(t[16]),G=b(),z=c("section"),Y=c("div"),Y.textContent=`${f("labels.camera")}`,te=b(),F(L.$$.fragment),ie=b(),se=c("select"),ae=c("option"),ae.textContent="—";for(let r=0;r<vt.length;r+=1)vt[r].c();Ue=b(),Ze=c("section"),ge=c("div"),Ge=c("div"),F(fe.$$.fragment),el=b(),oe=c("input"),tl=b(),re=c("div"),F(je.$$.fragment),ll=b(),ce=c("input"),il=b(),Ce=c("div"),Ye=c("div"),F(ye.$$.fragment),nl=b(),me=c("input"),sl=b(),al=c("div"),ol=b(),Ne=c("section"),xt=c("div"),xt.textContent=`${f("labels.systemParams")}`,rl=b(),He=c("div"),We=c("div"),F(O.$$.fragment),X=b(),Pt=c("div"),_e=c("select");for(let r=0;r<J.length;r+=1)J[r].c();li=b(),Ae=c("input"),ii=b(),Ut=c("div"),F(Xe.$$.fragment),ni=b(),Se=c("input"),si=b(),Je=c("div"),Ht=c("div"),F(Qe.$$.fragment),ai=b(),Mt=c("div"),Re=c("select");for(let r=0;r<Q.length;r+=1)Q[r].c();oi=b(),ke=c("input"),ri=b(),Wt=c("div"),F(et.$$.fragment),ci=b(),wt=c("div"),Fe=c("select");for(let r=0;r<ee.length;r+=1)ee[r].c();ui=b(),De=c("input"),pi=b(),It=c("section"),F(tt.$$.fragment),gi=b(),de=c("input"),fi=b(),qt=c("section"),F(lt.$$.fragment),mi=b(),jt=c("div"),Tt=c("div"),F(it.$$.fragment),di=b(),ze=c("input"),hi=b(),Bt=c("div"),F(nt.$$.fragment),_i=b(),Ct=c("div"),Le=c("input"),vi=b(),Oe=c("input"),bi=b(),ve=c("div"),cl=c("div"),cl.textContent=`${f("titles.visualization")}`,$i=b(),Kt=c("div"),Vt=c("div"),F(st.$$.fragment),xi=b(),Ie=c("select");for(let r=0;r<bt.length;r+=1)bt[r].c();Pi=b(),ul=c("div"),le=B("svg"),pl=B("defs"),gl=B("clipPath"),yt=B("circle"),at=B("pattern"),Zt=B("path"),Me.c(),be=B("circle"),ue=B("rect"),pe=B("line"),$e=B("text"),Mi=h("D = "),Ll=h(Ml),wi=h(" mm"),Ee=B("g"),Nt=B("text"),Ol=h(wl),At=B("text"),El=h(jl),St=B("text"),Ul=h(Cl),Rt=B("text"),Hl=h(yl),ji=b(),he=c("div"),Wl=c("div"),Il=h(Nl),Ci=b(),ql=c("div"),Tl=h(Al),yi=b(),K=c("div"),Sl=c("div"),Sl.textContent=`${f("titles.results")}`,Ni=b(),Rl=c("div"),Rl.textContent=`${f("groups.sensor")}`,Ai=b(),xe=c("div"),F(ot.$$.fragment),Si=b(),F(rt.$$.fragment),Ri=b(),F(ct.$$.fragment),ki=b(),F(ut.$$.fragment),Fi=b(),kl=c("div"),kl.textContent=`${f("groups.sampling")}`,Di=b(),qe=c("div"),F(pt.$$.fragment),zi=b(),F(gt.$$.fragment),Li=b(),F(ft.$$.fragment),Oi=b(),Fl=c("div"),Fl.textContent=`${f("groups.opticsFov")}`,Ei=b(),Pe=c("div"),F(mt.$$.fragment),Ui=b(),F(dt.$$.fragment),Hi=b(),F(ht.$$.fragment),Wi=b(),F(_t.$$.fragment),s(p,"class","label"),s(p,"for","lang-select"),x.__value="zh",C(x,x.__value),P.__value="en",C(P,P.__value),S.__value="de",C(S,S.__value),s(d,"id","lang-select"),s(d,"class","input"),t[20]===void 0&&Ke(()=>t[30].call(d)),s(w,"class","input"),T(w,"width","auto"),T(w,"padding","6px 10px"),T(w,"cursor","pointer"),T(u,"display","flex"),T(u,"gap","6px"),T(u,"align-items","center"),s(i,"class","header"),T(i,"display","flex"),T(i,"gap","8px"),T(i,"align-items","center"),T(i,"justify-content","space-between"),s(Y,"class","label"),ae.__value="-1",C(ae,ae.__value),s(se,"class","input"),s(oe,"class","input"),s(oe,"type","number"),s(oe,"step","1"),s(oe,"placeholder",f("labels.cameraPixelsWidth")),s(ce,"class","input"),s(ce,"type","number"),s(ce,"step","1"),s(ce,"placeholder",f("labels.cameraPixelsHeight")),s(ge,"class","row"),s(me,"class","input"),s(me,"type","number"),s(me,"step","0.01"),s(Ce,"class","row"),T(Ce,"margin-top","8px"),s(xt,"class","label"),s(_e,"class","input"),t[3]===void 0&&Ke(()=>t[34].call(_e)),s(Ae,"class","input"),s(Ae,"type","number"),s(Ae,"step","0.1"),s(Pt,"class","row"),s(Se,"class","input"),s(Se,"type","number"),s(Se,"step","0.001"),s(He,"class","row"),s(Re,"class","input"),t[5]===void 0&&Ke(()=>t[37].call(Re)),s(ke,"class","input"),s(ke,"type","number"),s(ke,"step","0.1"),s(Mt,"class","row"),s(Fe,"class","input"),t[6]===void 0&&Ke(()=>t[39].call(Fe)),s(De,"class","input"),s(De,"type","number"),s(De,"step","0.01"),s(wt,"class","row"),s(Je,"class","row"),T(Je,"margin-top","8px"),s(de,"class","input"),s(de,"type","number"),s(de,"min","0.4"),s(de,"max","0.7"),s(de,"step","0.01"),s(ze,"class","input"),s(ze,"type","number"),s(ze,"step","0.1"),s(Le,"class","input"),s(Le,"type","number"),s(Le,"step","1"),s(Oe,"class","input"),s(Oe,"type","number"),s(Oe,"step","1"),s(Ct,"class","row"),s(jt,"class","row"),s(l,"class","sidebar-left"),s(cl,"class","header"),s(Ie,"class","input"),t[11]===void 0&&Ke(()=>t[45].call(Ie)),s(Kt,"class","row"),T(Kt,"margin-bottom","4px"),s(yt,"cx","120"),s(yt,"cy","120"),s(yt,"r",fl=t[13]/2*t[17]),s(gl,"id","fovClip"),s(Zt,"d","M0,6 l6,-6 M-1,1 l2,-2 M5,7 l2,-2"),s(Zt,"stroke","#2a3140"),s(Zt,"stroke-width","1"),s(at,"id","hatch"),s(at,"width","6"),s(at,"height","6"),s(at,"patternUnits","userSpaceOnUse"),s(be,"class","viz-circle"),s(be,"cx","120"),s(be,"cy","120"),s(be,"r",ml=t[13]/2*t[17]),s(be,"fill","none"),s(be,"stroke-width","2"),s(ue,"class","viz-rect"),s(ue,"x",dl=120-t[15]*t[17]/2),s(ue,"y",hl=120-t[14]*t[17]/2),s(ue,"width",_l=t[15]*t[17]),s(ue,"height",vl=t[14]*t[17]),s(ue,"stroke-width","2"),s(pe,"class","viz-diag"),s(pe,"x1",bl=120-t[15]*t[17]/2),s(pe,"y1",$l=120-t[14]*t[17]/2),s(pe,"x2",xl=120+t[15]*t[17]/2),s(pe,"y2",Pl=120+t[14]*t[17]/2),s(pe,"stroke-width","2"),s($e,"class","viz-labels svelte-1xnukff"),s($e,"x","140"),s($e,"y","120"),s($e,"text-anchor","middle"),s($e,"font-size","6"),s(Nt,"x","0"),s(Nt,"y","8"),s(Nt,"class","svelte-1xnukff"),s(At,"x","0"),s(At,"y","20"),s(At,"class","svelte-1xnukff"),s(St,"x","0"),s(St,"y","32"),s(St,"class","svelte-1xnukff"),s(Rt,"x","0"),s(Rt,"y","44"),s(Rt,"class","svelte-1xnukff"),s(Ee,"class","viz-labels"),s(Ee,"font-size","6"),s(Ee,"text-anchor","start"),s(le,"viewBox","0 0 240 240"),s(le,"width","480"),s(le,"height","480"),s(le,"aria-label","FN"),s(ul,"class","figure svelte-1xnukff"),T(he,"color","#8ea1b8"),T(he,"font-size","12px"),T(he,"margin-top","6px"),T(he,"display","flex"),T(he,"gap","16px"),T(he,"align-items","center"),s(ve,"class","center"),s(Sl,"class","header"),s(Rl,"class","group-title"),s(xe,"class","grid-3"),s(kl,"class","group-title"),s(qe,"class","grid-3"),s(Fl,"class","group-title"),s(Pe,"class","grid-3"),s(K,"class","sidebar-right"),s(e,"class","app-shell svelte-1xnukff")},m(r,g){v(r,e,g),n(e,l),n(l,i),n(i,a),n(i,o),n(i,u),n(u,p),n(u,m),n(u,d),n(d,x),n(d,P),n(d,S),we(d,t[20],!0),n(u,H),n(u,w),n(w,ne),n(w,Z),n(w,q),n(l,G),n(l,z),n(z,Y),n(z,te),R(L,z,null),n(z,ie),n(z,se),n(se,ae);for(let A=0;A<vt.length;A+=1)vt[A]&&vt[A].m(se,null);n(l,Ue),n(l,Ze),n(Ze,ge),n(ge,Ge),R(fe,Ge,null),n(Ge,el),n(Ge,oe),C(oe,t[0]),n(ge,tl),n(ge,re),R(je,re,null),n(re,ll),n(re,ce),C(ce,t[1]),n(Ze,il),n(Ze,Ce),n(Ce,Ye),R(ye,Ye,null),n(Ye,nl),n(Ye,me),C(me,t[2]),n(Ce,sl),n(Ce,al),n(l,ol),n(l,Ne),n(Ne,xt),n(Ne,rl),n(Ne,He),n(He,We),R(O,We,null),n(We,X),n(We,Pt),n(Pt,_e);for(let A=0;A<J.length;A+=1)J[A]&&J[A].m(_e,null);we(_e,t[3],!0),n(Pt,li),n(Pt,Ae),C(Ae,t[3]),n(He,ii),n(He,Ut),R(Xe,Ut,null),n(Ut,ni),n(Ut,Se),C(Se,t[4]),n(Ne,si),n(Ne,Je),n(Je,Ht),R(Qe,Ht,null),n(Ht,ai),n(Ht,Mt),n(Mt,Re);for(let A=0;A<Q.length;A+=1)Q[A]&&Q[A].m(Re,null);we(Re,t[5],!0),n(Mt,oi),n(Mt,ke),C(ke,t[5]),n(Je,ri),n(Je,Wt),R(et,Wt,null),n(Wt,ci),n(Wt,wt),n(wt,Fe);for(let A=0;A<ee.length;A+=1)ee[A]&&ee[A].m(Fe,null);we(Fe,t[6],!0),n(wt,ui),n(wt,De),C(De,t[6]),n(l,pi),n(l,It),R(tt,It,null),n(It,gi),n(It,de),C(de,t[7]),n(l,fi),n(l,qt),R(lt,qt,null),n(qt,mi),n(qt,jt),n(jt,Tt),R(it,Tt,null),n(Tt,di),n(Tt,ze),C(ze,t[8]),n(jt,hi),n(jt,Bt),R(nt,Bt,null),n(Bt,_i),n(Bt,Ct),n(Ct,Le),C(Le,t[9]),n(Ct,vi),n(Ct,Oe),C(Oe,t[10]),n(e,bi),n(e,ve),n(ve,cl),n(ve,$i),n(ve,Kt),n(Kt,Vt),R(st,Vt,null),n(Vt,xi),n(Vt,Ie);for(let A=0;A<bt.length;A+=1)bt[A]&&bt[A].m(Ie,null);we(Ie,t[11],!0),n(ve,Pi),n(ve,ul),n(ul,le),n(le,pl),n(pl,gl),n(gl,yt),n(pl,at),n(at,Zt),Me.m(le,null),n(le,be),n(le,ue),n(le,pe),n(le,$e),n($e,Mi),n($e,Ll),n($e,wi),n(le,Ee),n(Ee,Nt),n(Nt,Ol),n(Ee,At),n(At,El),n(Ee,St),n(St,Ul),n(Ee,Rt),n(Rt,Hl),n(ve,ji),n(ve,he),n(he,Wl),n(Wl,Il),n(he,Ci),n(he,ql),n(ql,Tl),n(e,yi),n(e,K),n(K,Sl),n(K,Ni),n(K,Rl),n(K,Ai),n(K,xe),R(ot,xe,null),n(xe,Si),R(rt,xe,null),n(xe,Ri),R(ct,xe,null),n(xe,ki),R(ut,xe,null),n(K,Fi),n(K,kl),n(K,Di),n(K,qe),R(pt,qe,null),n(qe,zi),R(gt,qe,null),n(qe,Li),R(ft,qe,null),n(K,Oi),n(K,Fl),n(K,Ei),n(K,Pe),R(mt,Pe,null),n(Pe,Ui),R(dt,Pe,null),n(Pe,Hi),R(ht,Pe,null),n(Pe,Wi),R(_t,Pe,null),W=!0,Bl||(Ii=[E(d,"change",t[25]),E(d,"change",t[30]),E(w,"click",t[21]),E(se,"change",t[27]),E(oe,"input",t[31]),E(ce,"input",t[32]),E(me,"input",t[33]),E(_e,"change",t[26]),E(_e,"change",t[34]),E(Ae,"input",t[35]),E(Se,"input",t[36]),E(Re,"change",t[37]),E(ke,"input",t[38]),E(Fe,"change",t[39]),E(De,"input",t[40]),E(de,"input",t[41]),E(ze,"input",t[42]),E(Le,"input",t[43]),E(Oe,"input",t[44]),E(Ie,"change",t[45])],Bl=!0)},p(r,g){g[0]&1048576&&we(d,r[20]),(!W||g[0]&65536)&&U(q,r[16]);const A={};g[2]&32&&(A.$$scope={dirty:g,ctx:r}),L.$set(A);const Ki={};g[2]&32&&(Ki.$$scope={dirty:g,ctx:r}),fe.$set(Ki),g[0]&1&&I(oe.value)!==r[0]&&C(oe,r[0]);const Vi={};g[2]&32&&(Vi.$$scope={dirty:g,ctx:r}),je.$set(Vi),g[0]&2&&I(ce.value)!==r[1]&&C(ce,r[1]);const Zi={};g[2]&32&&(Zi.$$scope={dirty:g,ctx:r}),ye.$set(Zi),g[0]&4&&I(me.value)!==r[2]&&C(me,r[2]);const Gi={};if(g[2]&32&&(Gi.$$scope={dirty:g,ctx:r}),O.$set(Gi),g[0]&16777216){kt=Be(r[24]);let M;for(M=0;M<kt.length;M+=1){const Te=Cn(r,kt,M);J[M]?J[M].p(Te,g):(J[M]=yn(Te),J[M].c(),J[M].m(_e,null))}for(;M<J.length;M+=1)J[M].d(1);J.length=kt.length}g[0]&16777224&&we(_e,r[3]),g[0]&16777224&&I(Ae.value)!==r[3]&&C(Ae,r[3]);const Yi={};g[2]&32&&(Yi.$$scope={dirty:g,ctx:r}),Xe.$set(Yi),g[0]&16&&I(Se.value)!==r[4]&&C(Se,r[4]);const Xi={};if(g[2]&32&&(Xi.$$scope={dirty:g,ctx:r}),Qe.$set(Xi),g[0]&8388608){Ft=Be(r[23]);let M;for(M=0;M<Ft.length;M+=1){const Te=jn(r,Ft,M);Q[M]?Q[M].p(Te,g):(Q[M]=Nn(Te),Q[M].c(),Q[M].m(Re,null))}for(;M<Q.length;M+=1)Q[M].d(1);Q.length=Ft.length}g[0]&8388640&&we(Re,r[5]),g[0]&8388640&&I(ke.value)!==r[5]&&C(ke,r[5]);const Ji={};if(g[2]&32&&(Ji.$$scope={dirty:g,ctx:r}),et.$set(Ji),g[0]&4194304){Dt=Be(r[22]);let M;for(M=0;M<Dt.length;M+=1){const Te=wn(r,Dt,M);ee[M]?ee[M].p(Te,g):(ee[M]=An(Te),ee[M].c(),ee[M].m(Fe,null))}for(;M<ee.length;M+=1)ee[M].d(1);ee.length=Dt.length}g[0]&4194368&&we(Fe,r[6]),g[0]&4194368&&I(De.value)!==r[6]&&C(De,r[6]);const Qi={};g[2]&32&&(Qi.$$scope={dirty:g,ctx:r}),tt.$set(Qi),g[0]&128&&I(de.value)!==r[7]&&C(de,r[7]);const en={};g[2]&32&&(en.$$scope={dirty:g,ctx:r}),lt.$set(en);const tn={};g[2]&32&&(tn.$$scope={dirty:g,ctx:r}),it.$set(tn),g[0]&256&&I(ze.value)!==r[8]&&C(ze,r[8]);const ln={};g[2]&32&&(ln.$$scope={dirty:g,ctx:r}),nt.$set(ln),g[0]&512&&I(Le.value)!==r[9]&&C(Le,r[9]),g[0]&1024&&I(Oe.value)!==r[10]&&C(Oe,r[10]);const nn={};g[2]&32&&(nn.$$scope={dirty:g,ctx:r}),st.$set(nn),g[0]&2048&&we(Ie,r[11]),(!W||g[0]&139264&&fl!==(fl=r[13]/2*r[17]))&&s(yt,"r",fl),Dl===(Dl=Bi(r))&&Me?Me.p(r,g):(Me.d(1),Me=Dl(r),Me&&(Me.c(),Me.m(le,be))),(!W||g[0]&139264&&ml!==(ml=r[13]/2*r[17]))&&s(be,"r",ml),(!W||g[0]&163840&&dl!==(dl=120-r[15]*r[17]/2))&&s(ue,"x",dl),(!W||g[0]&147456&&hl!==(hl=120-r[14]*r[17]/2))&&s(ue,"y",hl),(!W||g[0]&163840&&_l!==(_l=r[15]*r[17]))&&s(ue,"width",_l),(!W||g[0]&147456&&vl!==(vl=r[14]*r[17]))&&s(ue,"height",vl),(!W||g[0]&163840&&bl!==(bl=120-r[15]*r[17]/2))&&s(pe,"x1",bl),(!W||g[0]&147456&&$l!==($l=120-r[14]*r[17]/2))&&s(pe,"y1",$l),(!W||g[0]&163840&&xl!==(xl=120+r[15]*r[17]/2))&&s(pe,"x2",xl),(!W||g[0]&147456&&Pl!==(Pl=120+r[14]*r[17]/2))&&s(pe,"y2",Pl),(!W||g[0]&262144)&&Ml!==(Ml=r[18].toFixed(2)+"")&&U(Ll,Ml),(!W||g[0]&32)&&wl!==(wl=f("misc.fnLabel",{value:r[5]})+"")&&U(Ol,wl),(!W||g[0]&49152)&&jl!==(jl=f("misc.projectionLabel",{w:r[15].toFixed(2),h:r[14].toFixed(2)})+"")&&U(El,jl),(!W||g[0]&262144)&&Cl!==(Cl=f("misc.projectionDiagonalLabel",{d:r[18].toFixed(2)})+"")&&U(Ul,Cl),(!W||g[0]&64)&&yl!==(yl=f("misc.couplerLabel",{value:r[6]})+"")&&U(Hl,yl),(!W||g[0]&32)&&Nl!==(Nl=f("misc.fnLabel",{value:r[5]})+"")&&U(Il,Nl),(!W||g[0]&49152)&&Al!==(Al=f("misc.projectionLabel",{w:r[15].toFixed(2),h:r[14].toFixed(2)})+"")&&U(Tl,Al);const sn={};g[0]&4096|g[2]&32&&(sn.$$scope={dirty:g,ctx:r}),ot.$set(sn);const an={};g[0]&4096|g[2]&32&&(an.$$scope={dirty:g,ctx:r}),rt.$set(an);const on={};g[0]&4096|g[2]&32&&(on.$$scope={dirty:g,ctx:r}),ct.$set(on);const rn={};g[0]&4096|g[2]&32&&(rn.$$scope={dirty:g,ctx:r}),ut.$set(rn);const cn={};g[0]&4096|g[2]&32&&(cn.$$scope={dirty:g,ctx:r}),pt.$set(cn);const un={};g[0]&4096|g[2]&32&&(un.$$scope={dirty:g,ctx:r}),gt.$set(un);const pn={};g[0]&4096|g[2]&32&&(pn.$$scope={dirty:g,ctx:r}),ft.$set(pn);const gn={};g[0]&4096|g[2]&32&&(gn.$$scope={dirty:g,ctx:r}),mt.$set(gn);const fn={};g[0]&4096|g[2]&32&&(fn.$$scope={dirty:g,ctx:r}),dt.$set(fn);const mn={};g[0]&4096|g[2]&32&&(mn.$$scope={dirty:g,ctx:r}),ht.$set(mn);const dn={};g[0]&4096|g[2]&32&&(dn.$$scope={dirty:g,ctx:r}),_t.$set(dn)},i(r){W||(y(L.$$.fragment,r),y(fe.$$.fragment,r),y(je.$$.fragment,r),y(ye.$$.fragment,r),y(O.$$.fragment,r),y(Xe.$$.fragment,r),y(Qe.$$.fragment,r),y(et.$$.fragment,r),y(tt.$$.fragment,r),y(lt.$$.fragment,r),y(it.$$.fragment,r),y(nt.$$.fragment,r),y(st.$$.fragment,r),y(ot.$$.fragment,r),y(rt.$$.fragment,r),y(ct.$$.fragment,r),y(ut.$$.fragment,r),y(pt.$$.fragment,r),y(gt.$$.fragment,r),y(ft.$$.fragment,r),y(mt.$$.fragment,r),y(dt.$$.fragment,r),y(ht.$$.fragment,r),y(_t.$$.fragment,r),W=!0)},o(r){N(L.$$.fragment,r),N(fe.$$.fragment,r),N(je.$$.fragment,r),N(ye.$$.fragment,r),N(O.$$.fragment,r),N(Xe.$$.fragment,r),N(Qe.$$.fragment,r),N(et.$$.fragment,r),N(tt.$$.fragment,r),N(lt.$$.fragment,r),N(it.$$.fragment,r),N(nt.$$.fragment,r),N(st.$$.fragment,r),N(ot.$$.fragment,r),N(rt.$$.fragment,r),N(ct.$$.fragment,r),N(ut.$$.fragment,r),N(pt.$$.fragment,r),N(gt.$$.fragment,r),N(ft.$$.fragment,r),N(mt.$$.fragment,r),N(dt.$$.fragment,r),N(ht.$$.fragment,r),N(_t.$$.fragment,r),W=!1},d(r){r&&_(e),k(L),Gt(vt,r),k(fe),k(je),k(ye),k(O),Gt(J,r),k(Xe),k(Qe),Gt(Q,r),k(et),Gt(ee,r),k(tt),k(lt),k(it),k(nt),k(st),Gt(bt,r),Me.d(),k(ot),k(rt),k(ct),k(ut),k(pt),k(gt),k(ft),k(mt),k(dt),k(ht),k(_t),Bl=!1,Ve(Ii)}}}let Rn=!1;function wa(t,e,l){var We;let i,a,o,u,p,m,d,x;Zn(t,$n,O=>l(20,x=O));let P="dark";function S(){l(16,P=P==="dark"?"light":"dark"),document.documentElement.dataset.theme=P,localStorage.setItem("microscope_calc_theme",P)}if(typeof window<"u"){const O=localStorage.getItem("microscope_calc_theme");(O==="dark"||O==="light")&&(P=O,document.documentElement.dataset.theme=P)}const H=[.35,.5,.63,1],w=[20,22,23,25],j=[2,4,5,10,20,40,50,60,63,100],ne={2:.06,4:.1,5:.12,10:.25,20:.4,40:.65,50:.8,60:.85,63:.9,100:1.25};let Z=1920,q=1080,G=3.45,z=10,Y=ne[z]??.25,te=23,L=.69,ie=.55,se=21,ae=1920,Ue=1080;function Ze(O){const X=In[O];X&&(l(0,Z=X.widthPx),l(1,q=X.heightPx),l(2,G=X.pixelPitchUm),l(6,L=X.couplerMag))}let ge=((We=Jl[0])==null?void 0:We.key)??"";const Ge="/cameraCalculate/";let fe;function el(O){const X=O.target.value;Qt.set(X)}function oe(O){const X=Number(O.target.value);l(3,z=X),l(4,Y=ne[X]??Y)}function tl(O){const X=O.currentTarget;Ze(Number(X.value))}let re=bn({sensor:{widthPx:Z,heightPx:q,pixelPitchUm:G,isColor:Rn},objective:{objectiveMagnification:z,numericalAperture:Y,fieldNumberMm:te,couplerMagnification:L},wavelengthUm:ie,display:{diagonalInch:se,widthPx:ae,heightPx:Ue}});function je(){x=Yt(this),$n.set(x)}function ll(){Z=I(this.value),l(0,Z)}function ce(){q=I(this.value),l(1,q)}function il(){G=I(this.value),l(2,G)}function Ce(){z=Yt(this),l(3,z),l(24,j)}function Ye(){z=I(this.value),l(3,z),l(24,j)}function ye(){Y=I(this.value),l(4,Y)}function nl(){te=Yt(this),l(5,te),l(23,w)}function me(){te=I(this.value),l(5,te),l(23,w)}function sl(){L=Yt(this),l(6,L),l(22,H)}function al(){L=I(this.value),l(6,L),l(22,H)}function ol(){ie=I(this.value),l(7,ie)}function Ne(){se=I(this.value),l(8,se)}function xt(){ae=I(this.value),l(9,ae)}function rl(){Ue=I(this.value),l(10,Ue)}function He(){ge=Yt(this),l(11,ge)}return t.$$.update=()=>{t.$$.dirty[0]&2048&&l(29,i=Jl.find(O=>O.key===ge)),t.$$.dirty[0]&536870912&&l(19,a=i&&i.filename?Ge+i.filename:""),t.$$.dirty[0]&2047&&l(28,fe={sensor:{widthPx:Z,heightPx:q,pixelPitchUm:G,isColor:Rn},objective:{objectiveMagnification:z,numericalAperture:Y,fieldNumberMm:te,couplerMagnification:L},wavelengthUm:ie,display:{diagonalInch:se,widthPx:ae,heightPx:Ue}}),t.$$.dirty[0]&268435456&&l(12,re=bn(fe)),t.$$.dirty[0]&4160&&l(15,o=re?re.sensorWidthMm/Math.max(.01,L):0),t.$$.dirty[0]&4160&&l(14,u=re?re.sensorHeightMm/Math.max(.01,L):0),t.$$.dirty[0]&49152&&l(18,p=Math.sqrt(o*o+u*u)),t.$$.dirty[0]&32&&l(13,m=te),t.$$.dirty[0]&8192&&l(17,d=200/m)},[Z,q,G,z,Y,te,L,ie,se,ae,Ue,ge,re,m,u,o,P,d,p,a,x,S,H,w,j,el,oe,tl,fe,i,je,ll,ce,il,Ce,Ye,ye,nl,me,sl,al,ol,Ne,xt,rl,He]}class ja extends Hn{constructor(e){super(),Un(this,e,wa,Ma,ei,{},null,[-1,-1,-1])}}bs();new ja({target:document.getElementById("app")});
